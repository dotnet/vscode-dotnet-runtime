{
    "name": "vscode-dotnet-runtime",
    "repository": {
        "type": "git",
        "url": "https://github.com/dotnet/vscode-dotnet-runtime.git"
    },
    "bugs": {
        "url": "https://github.com/dotnet/vscode-dotnet-runtime/issues"
    },
    "license": "MIT",
    "author": "Microsoft Corporation",
    "displayName": ".NET Install Tool",
    "description": "This extension installs and manages different versions of the .NET SDK and Runtime.",
    "connectionString": "InstrumentationKey=02dc18e0-7494-43b2-b2a3-18ada5fcb522;IngestionEndpoint=https://westus2-0.in.applicationinsights.azure.com/;LiveEndpoint=https://westus2.livediagnostics.monitor.azure.com/;ApplicationId=e8e56970-a18a-4101-b7d1-1c5dd7c29eeb",
    "icon": "images/dotnetIcon.png",
    "version": "3.0.1",
    "publisher": "ms-dotnettools",
    "engines": {
        "vscode": "^1.101.0"
    },
    "categories": [
        "Other"
    ],
    "keywords": [
        ".NET",
        ".NET Core",
        "dotnet",
        "Extension Authoring",
        "runtime"
    ],
    "capabilities": {
        "untrustedWorkspaces": {
            "supported": true
        },
        "virtualWorkspaces": true
    },
    "activationEvents": [
        "onStartupFinished"
    ],
    "main": "./dist/extension.js",
    "types": "./dist/extension.d.ts",
    "contributes": {
        "languageModelTools": [
            {
                "name": "install_dotnet_sdk",
                "when": "config.dotnetAcquisitionExtension.enableLanguageModelTools",
                "displayName": "Install .NET SDK",
                "toolReferenceName": "installDotNetSdk",
                "canBeReferencedInPrompt": true,
                "icon": "$(tools)",
                "userDescription": "Installs a .NET SDK system-wide for building and running .NET projects",
                "modelDescription": "Installs .NET SDK GLOBALLY. Works on Windows, macOS, and supported Linux distros (Ubuntu, Debian, Red Hat Enterprise Linux). DO NOT call this tool on WSL or other Linux distros ‚Äî it will not work there. Instead, skip this tool entirely and run the install commands from https://learn.microsoft.com/dotnet/core/install/linux in the terminal. NEVER tell the user something is 'unsupported' ‚Äî just run the right commands. For preview versions, use your own knowledge to determine the best install approach for the user's platform. ALWAYS RESPECT USER'S VERSION CHOICE - install exactly what they ask for, even if EOL/preview. VERSION SOURCES: (1) User's explicit request (HIGHEST PRIORITY). (2) TargetFramework (net6.0‚Üí'6'). (3) global.json. (4) Call getRecommendedDotNetVersion if none specified. Formats: '6', '6.0', '6.0.1xx'. Requires admin.",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "version": {
                            "type": "string",
                            "description": "REQUIRED. The .NET SDK version to install. If user says 'install .NET 6', pass version='6'. Do NOT refuse or suggest alternatives for EOL versions - install what the user asks for."
                        }
                    },
                    "required": [
                        "version"
                    ]
                }
            },
            {
                "name": "list_available_dotnet_versions_to_install",
                "when": "config.dotnetAcquisitionExtension.enableLanguageModelTools",
                "displayName": "List Available .NET Versions",
                "toolReferenceName": "listDotNetVersions",
                "canBeReferencedInPrompt": true,
                "icon": "$(list-unordered)",
                "userDescription": "Lists available .NET SDK and Runtime versions that can be installed",
                "modelDescription": "Lists .NET versions available from Microsoft. Returns version numbers with support phase (active/maintenance/eol). Respect user's version choice even if EOL - they may have valid compatibility reasons. Call with listRuntimes=false for SDKs (default), listRuntimes=true for runtimes only.",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "listRuntimes": {
                            "type": "boolean",
                            "description": "If true, lists runtime versions. If false or omitted, lists SDK versions."
                        }
                    }
                }
            },
            {
                "name": "find_dotnet_executable_path",
                "when": "config.dotnetAcquisitionExtension.enableLanguageModelTools",
                "displayName": "Find .NET Path",
                "toolReferenceName": "findDotNetPath",
                "canBeReferencedInPrompt": true,
                "icon": "$(search)",
                "userDescription": "Finds the path to a .NET installation that meets specified requirements",
                "modelDescription": "Finds .NET installation matching version/architecture requirements. Use to verify .NET is installed before suggesting installation. Searches: existingDotnetPath setting ‚Üí PATH ‚Üí DOTNET_ROOT ‚Üí extension-managed installs. Returns dotnet.exe path if found. Note: Extension-managed local installs (runtime installs) are NOT on PATH and not visible from the terminal via dotnet --version.",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "version": {
                            "type": "string",
                            "description": "The minimum .NET version required (major.minor format, e.g., '8.0')"
                        },
                        "mode": {
                            "type": "string",
                            "enum": [
                                "sdk",
                                "runtime",
                                "aspnetcore"
                            ],
                            "description": "Whether to find an SDK or runtime installation. Defaults to 'runtime'."
                        },
                        "architecture": {
                            "type": "string",
                            "enum": [
                                "x64",
                                "x86",
                                "arm64"
                            ],
                            "description": "The CPU architecture. Defaults to the current system architecture."
                        }
                    },
                    "required": [
                        "version"
                    ]
                }
            },
            {
                "name": "uninstall_dotnet",
                "when": "config.dotnetAcquisitionExtension.enableLanguageModelTools",
                "displayName": "Uninstall .NET",
                "toolReferenceName": "uninstallDotNet",
                "canBeReferencedInPrompt": true,
                "icon": "$(trash)",
                "userDescription": "Uninstalls a .NET SDK or Runtime version",
                "modelDescription": "Uninstalls .NET versions. Works on Windows, macOS, and supported Linux distros (Ubuntu, Debian, Red Hat Enterprise Linux). DO NOT call this tool for SDK uninstall on WSL or other Linux distros ‚Äî it will not work there. Instead, skip this tool and run the appropriate uninstall commands from https://learn.microsoft.com/dotnet/core/install/linux in the terminal. NEVER tell the user something is 'unsupported' ‚Äî just run the right commands. Runtime uninstall works on all platforms. REQUIRED: Call listInstalledDotNetVersions first to get installed versions, then provide version+mode. Only extension-managed installs appear by default. Global uninstalls require admin.",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "version": {
                            "type": "string",
                            "description": "REQUIRED: The .NET version to uninstall. Call listInstalledDotNetVersions first to get available versions."
                        },
                        "mode": {
                            "type": "string",
                            "enum": [
                                "sdk",
                                "runtime",
                                "aspnetcore"
                            ],
                            "description": "Whether to uninstall an SDK or runtime"
                        },
                        "global": {
                            "type": "boolean",
                            "description": "If true, uninstalls a global/system-wide installation. If false, uninstalls a VS Code-managed local installation."
                        }
                    },
                    "required": [
                        "version"
                    ]
                }
            },
            {
                "name": "get_settings_info_for_dotnet_installation_management",
                "when": "config.dotnetAcquisitionExtension.enableLanguageModelTools",
                "displayName": "Get .NET Install Tool Guide",
                "toolReferenceName": "getDotNetSettingsInfo",
                "canBeReferencedInPrompt": true,
                "icon": "$(info)",
                "userDescription": "Get comprehensive information about .NET Install Tool settings, installation types, and troubleshooting",
                "modelDescription": "Call FIRST for .NET installation questions, settings confusion, or troubleshooting. Returns guide explaining: existingDotnetPath (for extensions, NOT user code), local vs global installs, why extension installs aren't on PATH, and common fixes. Essential context before diagnosing .NET issues.",
                "inputSchema": {
                    "type": "object",
                    "properties": {}
                }
            },
            {
                "name": "list_installed_dotnet_versions",
                "when": "config.dotnetAcquisitionExtension.enableLanguageModelTools",
                "displayName": "List Installed .NET Versions",
                "toolReferenceName": "listInstalledDotNetVersions",
                "canBeReferencedInPrompt": true,
                "icon": "$(list-tree)",
                "userDescription": "Lists .NET SDK or Runtime versions that are currently installed on the system",
                "modelDescription": "Lists installed .NET SDKs and Runtimes. IMPORTANT: Present ALL versions from results to user - do NOT summarize or truncate version lists. PREFER this over terminal commands - results are cached for ~10s so faster on repeat calls. Returns version and architecture for each install. No parameters needed for default PATH lookup. Specify dotnetPath to query installs available to a specific dotnet executable - useful when a local/user install may differ from the global admin location (e.g., C:\\Program Files\\dotnet). NOTE: Windows Desktop Runtime (Microsoft.WindowsDesktop.App) is NOT tracked by this tool. If the user asks about Windows Desktop Runtime, run 'dotnet --list-runtimes' instead.",
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "dotnetPath": {
                            "type": "string",
                            "description": "Optional path to a specific dotnet executable to query. If not provided, uses the dotnet on PATH (global install). Example: 'C:\\Program Files\\dotnet\\dotnet.exe'"
                        },
                        "mode": {
                            "type": "string",
                            "enum": [
                                "sdk",
                                "runtime",
                                "aspnetcore"
                            ],
                            "description": "If omitted, returns BOTH SDKs and Runtimes. Set to 'sdk' for only SDKs, 'runtime' for only runtimes."
                        }
                    }
                }
            }
        ],
        "commands": [
            {
                "command": "dotnet.reportIssue",
                "title": "Report an issue with the .NET Install Tool.",
                "category": ".NET Install Tool"
            },
            {
                "command": "dotnet.acquireGlobalSDKPublic",
                "title": "Install the .NET SDK System-Wide.",
                "category": ".NET Install Tool"
            },
            {
                "command": "dotnet.uninstallPublic",
                "title": "Uninstall .NET.",
                "category": ".NET Install Tool"
            },
            {
                "command": "dotnet.resetData",
                "title": "Reset Extension Data (Uninstalls All Installations, Which May Cause Other Extensions To Fail. Uninstall Dependent Extensions First)",
                "category": ".NET Install Tool",
                "enablement": "config.dotnetAcquisitionExtension.showResetDataCommand"
            }
        ],
        "configuration": {
            "title": ".NET Install Tool",
            "properties": {
                "dotnetAcquisitionExtension.enableLanguageModelTools": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable AI-powered language model tools for .NET management (install, uninstall, list versions, etc.) in GitHub Copilot and agent mode. Set to false to hide all .NET tools from the LLM. Restart VS Code to apply changes."
                },
                "dotnetAcquisitionExtension.enableTelemetry": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable Telemetry for the .NET Install Tool. Restart VS Code to apply changes."
                },
                "dotnetAcquisitionExtension.enablePreviewFeatures": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable Preview Features for the Extension. Restart VS Code to apply changes."
                },
                "dotnetAcquisitionExtension.installTimeoutValue": {
                    "type": "number",
                    "default": 600,
                    "description": "Timeout for installing .NET in seconds."
                },
                "dotnetAcquisitionExtension.existingDotnetPath": {
                    "type": "array",
                    "markdownDescription": "The path to an existing .NET host executable for an extension's code to run under, not for your project to run under.\nRestart VS Code to apply changes.\n\n‚ö†Ô∏è This is NOT the .NET Runtime that your project will use to run. Extensions such as `C#`, `C# DevKit`, and more have components written in .NET. This .NET PATH is the `dotnet.exe` that these extensions will use to run their code, not your code.\n\nUsing a path value in which .NET does not meet the requirements of a specific extension will cause that extension to fail.\n\nüöÄ The version of .NET that is used for your project is determined by the .NET host, or dotnet.exe. The .NET host picks a runtime based on your project. To use a specific version of .NET for your project, install the .NET SDK using the `.NET Install Tool - Install SDK System-Wide` command, install .NET manually using [our instructions](https://dotnet.microsoft.com/download), or edit your PATH environment variable to point to a `dotnet.exe` that has an `/sdk/` folder with only one SDK.",
                    "description": "The path to an existing .NET host executable for an extension's code to run under, not for your project to run under.\nRestart VS Code to apply changes.\n\n‚ö†Ô∏è This is NOT the .NET Runtime that your project will use to run. Extensions such as 'C#', 'C# DevKit', and more have components written in .NET. This .NET PATH is the 'dotnet.exe' that these extensions will use to run their code, not your code.\n\nUsing a path value in which .NET does not meet the requirements of a specific extension will cause that extension to fail.\n\nüöÄ The version of .NET that is used for your project is determined by the .NET host, or dotnet.exe. The .NET host picks a runtime based on your project. To use a specific version of .NET for your project, install the .NET SDK using the '.NET Install Tool - Install SDK System-Wide' command, use the instructions at https://dotnet.microsoft.com/download to manually install the .NET SDK, or edit your PATH environment variable to point to a 'dotnet.exe' that has an '/sdk/' folder with only one SDK.",
                    "examples": [
                        "C:\\Program Files\\dotnet\\dotnet.exe",
                        "/usr/local/share/dotnet/dotnet",
                        "/usr/lib/dotnet/dotnet"
                    ]
                },
                "dotnetAcquisitionExtension.sharedExistingDotnetPath": {
                    "type": "string",
                    "description": "The path of the preexisting .NET Runtime you'd like to use for ALL extensions. Restart VS Code to apply changes.",
                    "examples": [
                        "C:\\Program Files\\dotnet\\dotnet.exe",
                        "/usr/local/share/dotnet/dotnet",
                        "/usr/lib/dotnet/dotnet"
                    ]
                },
                "dotnetAcquisitionExtension.proxyUrl": {
                    "type": "string",
                    "description": "URL to a proxy if you use one, such as: https://proxy:port"
                },
                "dotnetAcquisitionExtension.allowInvalidPaths": {
                    "type": "boolean",
                    "description": "If you'd like to continue using a .NET path that is not meant to be used for an extension and may cause instability (please read above about the existingDotnetPath setting) then set this to true and restart."
                },
                "dotnetAcquisitionExtension.cacheTimeToLiveMultiplier": {
                    "type": "number",
                    "default": 1,
                    "description": "To improve performance, the results of checking .NET Installations may be cached. If you're facing issues with an install not being detected, try setting this to 0.5, or 0; or increasing the number to improve performance. Restart to change."
                },
                "dotnetAcquisitionExtension.showResetDataCommand": {
                    "type": "boolean",
                    "default": false,
                    "description": "Show the command to reset extension data in the command palette. Restart VS Code and remove dependent extensions first."
                },
                "dotnetAcquisitionExtension.suppressOutput": {
                    "type": "boolean",
                    "default": false,
                    "description": "Hide all messages in the output window from our extension. Error pop-ups from APIs that other extensions request we display will still appear."
                },
                "dotnetAcquisitionExtension.highVerbosity": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable this to show more detailed output from our extension."
                },
                "dotnetAcquisitionExtension.runtimeUpdateDelaySeconds": {
                    "type": "number",
                    "default": 300,
                    "description": "The amount of seconds to wait before trying to update the .NET Runtime for the day."
                }
            }
        }
    },
    "scripts": {
        "vscode:prepublish": "npm run compile-all && npm install && webpack --mode production && dotnet build ../msbuild/signJs --property jsOutputPath=..\\..\\vscode-dotnet-runtime-extension\\dist -bl -v:normal",
        "compile": "npm run clean && tsc -p ./",
        "watch": "npm run compile && tsc -watch -p ./",
        "test": "npm run compile --silent && node ./dist/test/functional/runTest.js",
        "test:lm-tools": "npm run compile --silent && node ./dist/test/functional/runLmToolsTest.js",
        "clean": "rimraf dist",
        "compile-all": "cd ../vscode-dotnet-runtime-library && npm install && npm run compile && cd ../vscode-dotnet-runtime-extension && npm install && npm run compile",
        "lint": "eslint -c .eslintrc.js --ext=.ts vscode-dotnet-runtime-library/src/**/*.ts vscode-dotnet-runtime-extension/src/**/*.ts --ignore-pattern \"**/test/\" --fix",
        "webpack": "webpack --mode development"
    },
    "dependencies": {
        "@types/chai-as-promised": "^7.1.8",
        "@vscode/test-electron": "^2.3.9",
        "axios": "^1.7.4",
        "axios-cache-interceptor": "^1.11.2",
        "axios-retry": "^3.4.0",
        "chai": "4.3.4",
        "glob": "^7.2.0",
        "https-proxy-agent": "^7.0.2",
        "mocha": "^11.7.0",
        "open": "^8.4.0",
        "shelljs": "^0.8.5",
        "ts-loader": "^9.5.1",
        "typescript": "^5.5.4",
        "vscode-dotnet-runtime-library": "file:../vscode-dotnet-runtime-library",
        "webpack-permissions-plugin": "^1.0.9"
    },
    "devDependencies": {
        "@types/chai": "^4.3.5",
        "@types/mocha": "^9.0.0",
        "@types/node": "^22.19.9",
        "@types/rimraf": "3.0.2",
        "@types/source-map-support": "^0.5.10",
        "@types/vscode": "^1.101.0",
        "@vscode/vsce": "^3.7.1",
        "copy-webpack-plugin": "^9.0.1",
        "rimraf": "^6.1.2",
        "webpack": "^5.88.2",
        "webpack-cli": "^4.9.1"
    },
    "__metadata": {
        "id": "1aab81a1-b3d9-4aef-976b-577d5d90fe3f",
        "publisherDisplayName": "Microsoft",
        "publisherId": "d05e23de-3974-4ff0-8d47-23ee77830092",
        "isPreReleaseVersion": false
    }
}
